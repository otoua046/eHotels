<div class="container mt-4">

    <button class="btn btn-outline-secondary mb-3" routerLink="/admin">
        ‚Üê Back to Dashboard
    </button>

    <h2 class="mb-3">Room Management</h2>
  
    <!-- Insert Button -->
    <button class="btn btn-primary mb-3 float-end" (click)="openInsertModal()">+ Insert Room</button>
  
    <!-- Loading and Error Messages -->
    <div *ngIf="loading">Loading...</div>
    <div *ngIf="error" class="text-danger">{{ error }}</div>
  
    <!-- Hotel Table -->
    <table class="table table-bordered" *ngIf="rooms.length > 0">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Hotel</th>
          <th>Room Number</th>
          <th>Price</th>
          <th>Amenities</th>
          <th>Capacity</th>
          <th>View Type</th>
          <th>Extendable</th>
          <th>Damage</th>
          <th>Problem Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let r of rooms">
          <td>{{ r.RoomID }}</td>
          <td>{{ r.HotelName }}</td>
          <td>{{ r.RoomNumber }}</td>
          <td>{{ r.Price }}</td>
          <td>{{ r.Amenities }}</td>
          <td>{{ r.Capacity }}</td>
          <td>{{ r.ViewType }}</td>
          <td>{{ r.CanBeExtended ? 'Yes' : 'No' }}</td>
          <td>{{ r.HasDamage ? 'Yes' : 'No' }}</td>
          <td>{{ r.ProblemDescription }}</td>
          <td>
            <div class="d-flex gap-2">
                <button class="btn btn-sm btn-warning me-2" (click)="openEditModal(r)">Update</button>
                <button class="btn btn-sm btn-danger" (click)="deleteRoom(r.RoomID!)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Modal Component -->
    <app-room-modal
      *ngIf="isModalOpen"
      [room]="selectedRoom"
      [isEdit]="isEditMode"
      (close)="handleModalClose()"
      (saveRoom)="handleRoomSave($event)">
    </app-room-modal>
    
    
</div>