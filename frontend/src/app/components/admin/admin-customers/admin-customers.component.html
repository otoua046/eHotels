<div class="container mt-4">

    <button class="btn btn-outline-secondary mb-3" routerLink="/admin">
        ‚Üê Back to Dashboard
    </button>

    <h2 class="mb-3">Customer Management</h2>
  
    <!-- Insert Button -->
    <button class="btn btn-primary mb-3 float-end" (click)="openInsertModal()">+ Insert Customer</button>
  
    <!-- Loading and Error Messages -->
    <div *ngIf="loading">Loading...</div>
    <div *ngIf="error" class="text-danger">{{ error }}</div>
  
    <!-- Customer Table -->
    <table class="table table-bordered" *ngIf="customers.length > 0">
      <thead class="table-light">
        <tr>
          <th>ID</th>
          <th>Full Name</th>
          <th>Address</th>
          <th>ID Type</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of customers">
          <td>{{ c.CustomerID }}</td>
          <td>{{ c.FullName }}</td>
          <td>{{ c.Address }}</td>
          <td>{{ c.IDType }}</td>
          <td>
            <div class="d-flex gap-2">
                <button class="btn btn-sm btn-warning me-2" (click)="openEditModal(c)">Update</button>
                <button class="btn btn-sm btn-danger" (click)="deleteCustomer(c.CustomerID!)">Delete</button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  
    <!-- Modal Component -->
    <app-customer-modal
      *ngIf="isModalOpen"
      [customer]="selectedCustomer"
      [isEdit]="isEditMode"
      (close)="handleModalClose()"
      (saveCustomer)="handleCustomerSave($event)">
    </app-customer-modal>
</div>